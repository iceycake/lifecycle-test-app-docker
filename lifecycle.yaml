---
version: '0.0.3-alpha-1'

services:
  - name: 'lifecycle-test-app-docker'
    github:
      repository: 'iceycake/lifecycle-test-app-docker'
      branchName: 'main'
      docker:
        defaultTag: 'main'
        app:
          dockerfilePath: 'github-1/app.dockerfile'
          ports:
            - 80
          env:
            SOURCE: 'yaml'
            TOKEN: 'abcdef012345'
        init:
          enable: false
  - name: 'lifecycle-test-app-docker-1'
    github:
      repository: 'iceycake/lifecycle-test-app-docker'
      branchName: 'main'
      docker:
        defaultTag: 'main'
        app:
          dockerfilePath: 'github-2/app.dockerfile'
          ports:
            - 80
          env:
            SOURCE: 'yaml'
            TOKEN: 'abcdef012345'
        init:
          enable: false
      deployment:
        public: true
        resource:
          cpu:
            request: '5m'
          memory:
            request: '500Mi'
        readiness:
          httpGet:
            path: '/'
            port: 80
